(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5042:function(){},4799:function(e,t,n){Promise.resolve().then(n.bind(n,2241))},6984:function(e,t,n){"use strict";n.r(t);var a=n(9268),o=n(6006),r=n(7002);function l(e,t,n,a,o,r){let l=Math.PI/7,i=Math.atan2(o-n,a-t);e.lineWidth=5,e.strokeStyle=r,e.fillStyle=r,a-=5*Math.cos(i),o-=5*Math.sin(i),e.beginPath(),e.moveTo(t,n),e.lineTo(a,o),e.stroke(),e.beginPath(),e.moveTo(a,o),e.lineTo(a-10*Math.cos(i-l),o-10*Math.sin(i-l)),e.lineTo(a-10*Math.cos(i+l),o-10*Math.sin(i+l)),e.closePath(),e.stroke(),e.fill()}function i(e,t,n,a,o){e.beginPath(),e.arc(t,n,a,0,2*Math.PI),e.moveTo(t+7,n),e.lineTo(t+21,n),e.moveTo(t-7,n),e.lineTo(t-21,n),e.moveTo(t,n+7),e.lineTo(t,n+21),e.moveTo(t,n-7),e.lineTo(t,n-21),e.lineWidth=4,e.strokeStyle=o,e.stroke()}t.default=e=>{let t=(0,o.useRef)(null),n=(0,o.useRef)(null),[u,s]=(0,o.useState)("default.png"),[h,g]=(0,o.useState)(!1),m=(0,o.useRef)(null),[v,b]=(0,o.useState)(!1),[c,f]=(0,o.useState)(1),[d,p]=(0,o.useState)(1.5),[x,T]=(0,o.useState)(0),[j,k]=(0,o.useState)(.5),[y,C]=(0,o.useState)(1),[S,M]=(0,o.useState)([[0,0,0],[0,1,0],[0,0,0]]),[w,_]=(0,o.useState)(!0),[P,R]=(0,o.useState)(!0),[E,I]=(0,o.useState)(!1),[W,O]=(0,o.useState)(!1),[D,q]=(0,o.useState)(null),[L,N]=(0,o.useState)(null),U=e=>{0!==e.length&&(g(!1),s(URL.createObjectURL(e[0])),b(!1))},B=(e,t,n)=>{b(!1);let a=S.map((a,o)=>a.map((a,r)=>o===t&&r===n?e:a));M(a)},F=e=>{let t=[e.nativeEvent.offsetX-450,e.nativeEvent.offsetY-450],n=[80*d,-(80*x)],a=[80*j,-(80*y)],o=[t[0]-n[0],t[1]-n[1]],r=[t[0]-a[0],t[1]-a[1]],l=Math.hypot(...o),i=Math.hypot(...r);l<14&&i>14?(I(!0),q(o)):l>14&&i<14?(O(!0),N(r)):l<14&&i<14&&(l<i?(I(!0),q(o)):(O(!0),N(r)))},G=e=>{let t=[e.nativeEvent.offsetX-450,e.nativeEvent.offsetY-450];if(E){let e=[t[0]-D[0],t[1]-D[1]];p(e[0]/80),T(-e[1]/80)}else if(W){let e=[t[0]-L[0],t[1]-L[1]];k(e[0]/80),C(-e[1]/80)}};return(0,o.useEffect)(()=>{let e,t;if(!h)return;let a=n.current;a.width>a.height?(e=250,t=250*a.height/a.width):(e=250*a.width/a.height,t=250);let o=m.current;o.width=e,o.height=t;let r=o.getContext("2d",{willReadFrequently:!0});r.drawImage(a,0,0,e,t);let l=r.getImageData(0,0,e,t),i=function(e,t){let n=e.width,a=e.height,o=e.data,r=t.length,l=[...o];for(let e=0;e<a-r+1;e++)for(let a=0;a<n-r+1;a++){let i=0,u=0,s=0,h=0;for(let l=0;l<r;l++)for(let g=0;g<r;g++){let r=(n*(e+l)+(a+g))*4,m=t[l][g];i+=o[r+0]*m,u+=o[r+1]*m,s+=o[r+2]*m,h+=o[r+3]*m}let g=(n*e+a)*4;l[g+0]=i,l[g+1]=u,l[g+2]=s,l[g+3]=h}return l}(l,S),u=r.createImageData(e,t);u.data.set(i),r.putImageData(u,0,0),b(!0)},[h,S]),(0,o.useEffect)(()=>{if(!v)return;let e=t.current,n=e.getContext("2d",{willReadFrequently:!0});n.save();let a=1+(d-1)*c,o=-x*c,u=-j*c,s=1+(y-1)*c;n.clearRect(0,0,e.width,e.height),n.translate(450,450),function(e){e.beginPath();for(let t=0;t<450;t+=40)e.moveTo(t,-450),e.lineTo(t,450),e.moveTo(-t,-450),e.lineTo(-t,450);for(let t=0;t<450;t+=40)e.moveTo(-450,t),e.lineTo(450,t),e.moveTo(-450,-t),e.lineTo(450,-t);e.strokeStyle="rgb(30, 30, 30)",e.lineWidth=2,e.stroke(),e.beginPath();for(let t=0;t<450;t+=80)e.moveTo(t,-450),e.lineTo(t,450),e.moveTo(-t,-450),e.lineTo(-t,450);for(let t=0;t<450;t+=80)e.moveTo(-450,t),e.lineTo(450,t),e.moveTo(-450,-t),e.lineTo(450,-t);e.strokeStyle="rgb(58, 58, 58)",e.lineWidth=2,e.stroke()}(n),n.transform(a,o,u,s,0,0),function(e,t){e.beginPath();for(let t=80;t<4500;t+=80)e.moveTo(t,-4500),e.lineTo(t,4500),e.moveTo(-t,-4500),e.lineTo(-t,4500);for(let t=80;t<4500;t+=80)e.moveTo(-4500,t),e.lineTo(4500,t),e.moveTo(-4500,-t),e.lineTo(4500,-t);e.restore(),e.save(),e.strokeStyle="rgb(69, 146, 165)",e.lineWidth=2,e.stroke(),t(),e.beginPath(),e.moveTo(0,-4500),e.lineTo(0,4500),e.moveTo(-4500,0),e.lineTo(4500,0),e.restore(),e.save(),e.strokeStyle="rgb(255, 255, 255)",e.lineWidth=2,e.stroke(),t()}(n,()=>n.transform(a,o,u,s,450,450));let h=m.current;w&&n.drawImage(h,0,-h.height),n.restore(),n.save(),n.translate(450,450);try{if(!P)return;let{values:e,vectors:t}=(0,r.Gq_)([[d,j],[x,y]]),[a,o]=e,[i,u]=(0,r.p4s)(t);if("number"!=typeof i[0])return;i=i.map(e=>(e/=(0,r.KOy)(i))+(e*a-e)*c),u=u.map(e=>(e/=(0,r.KOy)(u))+(e*o-e)*c);for(let e=0;e<60;e++)l(n,80*i[0]*e,-80*i[1]*e,80*i[0]*(e+1),-80*i[1]*(e+1),"rgb(246, 194, 138)"),l(n,-80*i[0]*e,80*i[1]*e,-80*i[0]*(e+1),80*i[1]*(e+1),"rgb(246, 194, 138)"),l(n,80*u[0]*e,-80*u[1]*e,80*u[0]*(e+1),-80*u[1]*(e+1),"rgb(246, 194, 138)"),l(n,-80*u[0]*e,80*u[1]*e,-80*u[0]*(e+1),80*u[1]*(e+1),"rgb(246, 194, 138)")}catch(e){}finally{l(n,0,0,80*a,80*o,"rgb(151, 187, 110)"),l(n,0,0,-80*u,-80*s,"rgb(239, 131, 101)"),i(n,80*d,-(80*x),14,"rgb(151, 187, 110)"),i(n,80*j,-(80*y),14,"rgb(239, 131, 101)"),n.restore()}},[v,c,d,x,j,y,w,P]),(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{hidden:!0,src:u,ref:n,onLoad:()=>g(!0),alt:""}),(0,a.jsx)("canvas",{hidden:!0,ref:m}),(0,a.jsx)("canvas",{ref:t,width:900,height:900,onMouseDown:e=>F(e),onMouseUp:()=>{I(!1),O(!1)},onMouseMove:e=>G(e)}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>U(e.target.files)}),(0,a.jsxs)("button",{onClick:()=>_(!w),children:[" ",w?"Hide image":"Show image"," "]}),(0,a.jsxs)("button",{onClick:()=>R(!P),children:[" ",P?"Hide eigenvectors":"Show eigenvectors"," "]}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:c,onChange:e=>f(e.target.value)}),(0,a.jsx)("br",{}),(0,a.jsx)("button",{onClick:()=>{p(1),T(0),k(0),C(1)},children:"Identity"}),(0,a.jsx)("button",{onClick:()=>{p(1),T(0),k(1),C(1)},children:"Shear"}),(0,a.jsx)("button",{onClick:()=>{p(0),T(1),k(-1),C(0)},children:"Rotation"}),(0,a.jsx)("button",{onClick:()=>{p(Math.round((4*Math.random()-2)*10)/10),T(Math.round((4*Math.random()-2)*10)/10),k(Math.round((4*Math.random()-2)*10)/10),C(Math.round((4*Math.random()-2)*10)/10)},children:"Random"}),(0,a.jsx)("br",{}),"Transform Matrix",(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"number",name:"a",value:d,onChange:e=>p(e.target.value)}),(0,a.jsx)("input",{type:"number",name:"c",value:j,onChange:e=>k(e.target.value)}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"number",name:"b",value:x,onChange:e=>T(e.target.value)}),(0,a.jsx)("input",{type:"number",name:"d",value:y,onChange:e=>C(e.target.value)}),(0,a.jsx)("br",{}),"Convolution Matrix",(0,a.jsx)("br",{}),(0,a.jsx)("button",{onClick:()=>{b(!1),M([[0,0,0],[0,1,0],[0,0,0]])},children:"Reset"}),(0,a.jsx)("button",{onClick:()=>{b(!1),M([[0,-1,0],[-1,5,-1],[0,-1,0]])},children:"Sharpen"}),(0,a.jsx)("button",{onClick:()=>{b(!1),M([[1/9,1/9,1/9],[1/9,1/9,1/9],[1/9,1/9,1/9]])},children:"Box Blur"}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"number",name:"kernel_a",value:S[0][0],onChange:e=>B(e.target.value,0,0)}),(0,a.jsx)("input",{type:"number",name:"kernel_d",value:S[0][1],onChange:e=>B(e.target.value,0,1)}),(0,a.jsx)("input",{type:"number",name:"kernel_g",value:S[0][2],onChange:e=>B(e.target.value,0,2)}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"number",name:"kernel_b",value:S[1][0],onChange:e=>B(e.target.value,1,0)}),(0,a.jsx)("input",{type:"number",name:"kernel_e",value:S[1][1],onChange:e=>B(e.target.value,1,1)}),(0,a.jsx)("input",{type:"number",name:"kernel_h",value:S[1][2],onChange:e=>B(e.target.value,1,2)}),(0,a.jsx)("br",{}),(0,a.jsx)("input",{type:"number",name:"kernel_c",value:S[2][0],onChange:e=>B(e.target.value,2,0)}),(0,a.jsx)("input",{type:"number",name:"kernel_f",value:S[2][1],onChange:e=>B(e.target.value,2,1)}),(0,a.jsx)("input",{type:"number",name:"kernel_i",value:S[2][2],onChange:e=>B(e.target.value,2,2)}),(0,a.jsx)("br",{})]})}},2241:function(e,t,n){"use strict";n.r(t);var a=n(1213),o=n.n(a);n(6984);let r=o()(()=>Promise.resolve().then(n.bind(n,6984)),{loadableGenerated:{webpack:()=>[6984]},ssr:!1});t.default=r}},function(e){e.O(0,[894,253,769,744],function(){return e(e.s=4799)}),_N_E=e.O()}]);